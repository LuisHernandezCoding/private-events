<%= form_with model: @profile, local: true do |form| %>
<div class="columns">
  <aside class="menu leftbar column is-12-mobile is-4">
    <div class="box">
      <%= render partial: "layouts/step", locals: { step: @profile.profile_state } %>
    </div>
  </aside>
  <div class="column is-8 leftbar_content content">
    <h1 class="title">Create Profile</h1>
    <br>
    <div class="box">
      <div class="columns">
        <div class="field column is-4">
          <%= form.label :username, "Username", class: "label" %>
          <div class="control has-icons-right">
            <%= form.text_field :username, class: "input" %>
            <span class="icon is-small is-right">
              <i class="fas fa-user"></i>
            </span>
          </div>
          <% if @profile.errors.any? %>
            <p class="help is-danger"><%= @profile.errors.full_messages_for(:username).first %></p>
          <% end %>
        </div>
        <div class="field column is-4">
          <%= form.label :first_name, "First name", class: "label" %>
          <div class="control has-icons-right">
            <%= form.text_field :first_name, class: "input" %>
            <span class="icon is-small is-right">
              <i class="fas fa-check"></i>
            </span>
          </div>
          <% if @profile.errors.any? %>
            <p class="help is-danger"><%= @profile.errors.full_messages_for(:first_name).first %></p>
          <% end %>
        </div>
        <div class="field column is-4">
          <%= form.label :last_name, "Last name", class: "label" %>
          <div class="control">
            <%= form.text_field :last_name, class: "input" %>
          </div>
          <% if @profile.errors.any? %>
            <p class="help is-danger"><%= @profile.errors.full_messages_for(:last_name).first %></p>
          <% end %>
        </div>
      </div>
      <hr>
      <div class="columns">
        <div class="field column is-12">
          <div class="control">
            <label class="checkbox">
              <%= form.check_box :terms, class: "checkbox" %>
              I agree to the <a href="#">Terms and Conditions</a> and <a href="#">Privacy Statement</a>.
            </label>
          </div>
          <% if @profile.errors.any? %>
            <p class="help is-danger"><%= @profile.errors.full_messages_for(:terms).first %></p>
          <% end %>
        </div>
      </div>
      <div class="columns">
        <div class="field column is-12">
          <div class="control">
            <%= form.submit 'Create Profile', class: "button is-primary is-fullwidth" %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<% end %>